<app-dash-header></app-dash-header>
<div class="wrapper">
  <app-dash-sidebar></app-dash-sidebar>
  <div id="content">
    <div class="row">
      <div class="col-md-8 col-md-offset-2">
        <div class="card border-default mb-3">
          <div class="card-header bg-transparent border-default">Add New Post</div>
          <div class="card-body text-default">
            <form #addPost="ngForm" (ngSubmit)="onSubmit()">

              <div class="form-group">
                <label for="topic">Topic</label>
                <select class="form-control" id="topic" required [(ngModel)]="post.topic" name="topic" #topic="ngModel">
                  <option value="NEWS">News</option>
                  <option value="FINANCE">Finance</option>
                  <option value="HEALTH">Health</option>
                  <option value="POLITICS">Politics</option>
                </select>
              </div>

              <div class="form-group">
                <label for="title">Title</label>
                <input type="text" class="form-control" id="title" placeholder="Enter post title" [(ngModel)]="post.title" name="title" #title="ngModel"
                  required>

                <div *ngIf="title.invalid && (title.dirty || title.touched)" class="alert alert-danger">
                  <div *ngIf="title.errors.required">
                    Please enter the title
                  </div>

                </div>
              </div>

              <div class="form-group">
                <label for="post_content">Content</label>
                <textarea type="text" class="form-control" id="post_content" placeholder="Enter post content" [(ngModel)]="post.post_content"
                  name="post_content" #post_content="ngModel" required rows="7"></textarea>

                <div *ngIf="post_content.invalid && (post_content.dirty || post_content.touched)" class="alert alert-danger">
                  <div *ngIf="post_content.errors.required">
                    Please enter the content
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="image1">First Image</label>
                    <input type="file" class="form-control-file" id="image1" required [(ngModel)]="post.image1" name="image1"
                     #image1="ngModel" (change)="handleImage1($event.target.files)">
                  </div>

                <!-- <img [src]="post.image1" style="width:250px; height:200px;"> -->

                  <div *ngIf="image1.invalid && (image1.dirty || image1.touched)">
                    <div *ngIf="image1.errors.required" class="alert alert-danger">
                      Please choose an image
                    </div>
                  </div>

                  
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="image2">Second Image</label>
                    <input type="file" class="form-control-file" id="image2" [(ngModel)]="post.image2" name="image2" 
                    #image2="ngModel" (change)="handleImage2($event.target.files)">
                  </div>

                  <!-- <img [src]="imageUrl" style="width:250px; height:200px;"> -->
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="image3">Third Image</label>
                    <input type="file" class="form-control-file" id="image3" [(ngModel)]="post.image3" name="image3" 
                    #image3="ngModel" (change)="handleImage3($event.target.files)">
                  </div>

                  <!-- <img [src]="imageUrl" style="width:250px; height:200px;"> -->
                </div>
              </div>



            </form>
          </div>
          <div class="card-footer bg-transparent border-default">
            <button type="submit" (click)="savePost(); addPost.reset()" class="btn btn-success btn-submit" [disabled]="!addPost.form.valid">Save</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>