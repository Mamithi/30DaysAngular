<app-auth-header></app-auth-header>

<div [hidden]="submitted">

  <div class="card">
    <div lass="card-body">
      <h5 class="card-title">Register</h5>
      <form #registrationForm="ngForm" (ngSubmit)="onSubmit()">
        <div class="row">
          <div class="form-group col-md-6">
            <label for="firstname">First Name</label>
            <input class="form-control" id="firstname" placeholder="First Name" required 
              [(ngModel)]="user.firstname" name="firstname" #firstname="ngModel">
            <!-- <div [hidden]="firstname.valid || firstname.pristine"
          class="alert alert-danger">Please enter your first name</div> -->
            <div *ngIf="firstname.invalid && (firstname.dirty || firstname.touched)" class="alert alert-danger">

              <div *ngIf="firstname.errors.required">
                First name is required
              </div>

              <div *ngIf="firstname.errors.minlength">
                First name must be at least 4 characters long
              </div>

              <div *ngIf="firstname.errors.forbiddenName">
                First name cannot be Bob
              </div>
            </div>


          </div>
          <div class="form-group col-md-6">
            <label for="lastname">Last Name</label>
            <input type="text" class="form-control" id="lastname" placeholder="Last Name" required [(ngModel)]="user.lastname" name="lastname"
              #lastname="ngModel">
            <div [hidden]="lastname.valid || lastname.pristine" class="alert alert-danger">Please enter your last name</div>
          </div>
        </div>

        <div class="form-group">
          <label for="telephone">Country</label>
          <input type="text" class="form-control" id="country" placeholder="Enter Country" required [(ngModel)]="user.country" name="country"
            #country="ngModel">
          <div [hidden]="country.valid || country.pristine" class="alert alert-danger">Please enter your country</div>
        </div>

        <div class="form-group">
          <label for="telephone">Phone Number</label>
          <input type="text" class="form-control" id="telephone" placeholder="Enter Phone Number" required [(ngModel)]="user.telephone"
            name="telephone" #telephone="ngModel">
          <div [hidden]="telephone.valid || telephone.pristine" class="alert alert-danger">Please enter your phone number</div>
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" class="form-control" id="email" placeholder="Enter email" required [(ngModel)]="user.email" name="email"
            #email="ngModel">
          <div [hidden]="email.valid || email.pristine" class="alert alert-danger">Please enter your email</div>
        </div>
        <div class="row">
          <div class="form-group col-md-6">
            <label for="password">Password</label>
            <input type="password" class="form-control" id="password" placeholder="Password" required [(ngModel)]="user.password" name="password"
              #password="ngModel">
            <div [hidden]="password.valid || password.pristine" class="alert alert-danger">Please enter your password</div>
          </div>
          <div class="form-group col-md-6">
            <label for="exampleInputPassword1">Confirm Password</label>
            <input type="password" class="form-control" id="password_confirmation" placeholder="Confirm Password" [(ngModel)]="user.password_confirmation"
              name="password_confirmation" required #password_confirmation="ngModel">
            <div [hidden]="password_confirmation.valid || password_confirmation.pristine" class="alert alert-danger">Please confirm your password</div>
          </div>
        </div>
        <button type="submit" (click)="register(); registrationForm.reset()" class="btn btn-primary btn-submit" [disabled]="!registrationForm.form.valid">Register</button>
      </form>
    </div>
  </div>

</div>


<div [hidden]="!submitted">
  <h2>You submitted the following:</h2>
  <div class="row">
    <div class="col-xs-3">Name</div>
    <div class="col-xs-9  pull-left">{{ user.firstname }}</div>
  </div>

  <br>
  <button class="btn btn-primary" (click)="submitted=false">Edit</button>
</div>

<app-footer></app-footer>